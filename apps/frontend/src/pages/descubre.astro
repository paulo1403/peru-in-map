---
import Layout from '../layouts/Layout.astro';
import SwipeableCards from '../components/SwipeableCards';
import { api } from '../services/api';

// Fetch places for swiping
const response = await api.getPlaces({ limit: 20, sortBy: 'rating' });
const places = response.success && response.data ? response.data.items : [];
---

<Layout title="Descubre Lugares - QueHacer.pe">
  <div class="min-h-[100dvh] bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50 safe-top pb-20">
    <div class="px-4 py-6">
      <div class="text-center mb-6">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">
          Descubre Lugares
        </h1>
        <p class="text-gray-600">
          Desliza → para guardar, ← para pasar
        </p>
      </div>

      <SwipeableCards client:load places={places} />
    </div>
  </div>
</Layout>
